/****** Object:  Database [CINEMA_TOMCAT]    Script Date: 27/03/2019 18:15:04 ******/CREATE DATABASE [CINEMA_TOMCAT] CONTAINMENT = NONE ON  PRIMARY ( NAME = N'CINEMA_TOMCAT', FILENAME = N'C:\Program Files\Microsoft SQL Server\MSSQL11.MSSQLSERVER\MSSQL\DATA\CINEMA_TOMCAT.mdf' , SIZE = 4160KB , MAXSIZE = UNLIMITED, FILEGROWTH = 1024KB ) LOG ON ( NAME = N'CINEMA_TOMCAT_log', FILENAME = N'C:\Program Files\Microsoft SQL Server\MSSQL11.MSSQLSERVER\MSSQL\DATA\CINEMA_TOMCAT_log.ldf' , SIZE = 1040KB , MAXSIZE = 2048GB , FILEGROWTH = 10%)GOALTER DATABASE [CINEMA_TOMCAT] SET COMPATIBILITY_LEVEL = 110GOIF (1 = FULLTEXTSERVICEPROPERTY('IsFullTextInstalled'))beginEXEC [CINEMA_TOMCAT].[dbo].[sp_fulltext_database] @action = 'enable'endGOALTER DATABASE [CINEMA_TOMCAT] SET ANSI_NULL_DEFAULT OFF GOALTER DATABASE [CINEMA_TOMCAT] SET ANSI_NULLS OFF GOALTER DATABASE [CINEMA_TOMCAT] SET ANSI_PADDING OFF GOALTER DATABASE [CINEMA_TOMCAT] SET ANSI_WARNINGS OFF GOALTER DATABASE [CINEMA_TOMCAT] SET ARITHABORT OFF GOALTER DATABASE [CINEMA_TOMCAT] SET AUTO_CLOSE OFF GOALTER DATABASE [CINEMA_TOMCAT] SET AUTO_CREATE_STATISTICS ON GOALTER DATABASE [CINEMA_TOMCAT] SET AUTO_SHRINK OFF GOALTER DATABASE [CINEMA_TOMCAT] SET AUTO_UPDATE_STATISTICS ON GOALTER DATABASE [CINEMA_TOMCAT] SET CURSOR_CLOSE_ON_COMMIT OFF GOALTER DATABASE [CINEMA_TOMCAT] SET CURSOR_DEFAULT  GLOBAL GOALTER DATABASE [CINEMA_TOMCAT] SET CONCAT_NULL_YIELDS_NULL OFF GOALTER DATABASE [CINEMA_TOMCAT] SET NUMERIC_ROUNDABORT OFF GOALTER DATABASE [CINEMA_TOMCAT] SET QUOTED_IDENTIFIER OFF GOALTER DATABASE [CINEMA_TOMCAT] SET RECURSIVE_TRIGGERS OFF GOALTER DATABASE [CINEMA_TOMCAT] SET  ENABLE_BROKER GOALTER DATABASE [CINEMA_TOMCAT] SET AUTO_UPDATE_STATISTICS_ASYNC OFF GOALTER DATABASE [CINEMA_TOMCAT] SET DATE_CORRELATION_OPTIMIZATION OFF GOALTER DATABASE [CINEMA_TOMCAT] SET TRUSTWORTHY OFF GOALTER DATABASE [CINEMA_TOMCAT] SET ALLOW_SNAPSHOT_ISOLATION OFF GOALTER DATABASE [CINEMA_TOMCAT] SET PARAMETERIZATION SIMPLE GOALTER DATABASE [CINEMA_TOMCAT] SET READ_COMMITTED_SNAPSHOT OFF GOALTER DATABASE [CINEMA_TOMCAT] SET HONOR_BROKER_PRIORITY OFF GOALTER DATABASE [CINEMA_TOMCAT] SET RECOVERY FULL GOALTER DATABASE [CINEMA_TOMCAT] SET  MULTI_USER GOALTER DATABASE [CINEMA_TOMCAT] SET PAGE_VERIFY CHECKSUM  GOALTER DATABASE [CINEMA_TOMCAT] SET DB_CHAINING OFF GOALTER DATABASE [CINEMA_TOMCAT] SET FILESTREAM( NON_TRANSACTED_ACCESS = OFF ) GOALTER DATABASE [CINEMA_TOMCAT] SET TARGET_RECOVERY_TIME = 0 SECONDS GOEXEC sys.sp_db_vardecimal_storage_format N'CINEMA_TOMCAT', N'ON'GO/****** Object:  Table [dbo].[BANNER]    Script Date: 27/03/2019 18:15:04 ******/SET ANSI_NULLS ONGOSET QUOTED_IDENTIFIER ONGOSET ANSI_PADDING ONGOCREATE TABLE [dbo].[BANNER](	[id] [int] IDENTITY(1,1) NOT NULL,	[date] [datetime2](7) NULL,	[filename] [varchar](255) NULL,	[status] [varchar](255) NULL,	[title] [varchar](255) NULL,PRIMARY KEY CLUSTERED (	[id] ASC)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]) ON [PRIMARY]GOSET ANSI_PADDING OFFGO/****** Object:  Table [dbo].[MOVIE_DETAILS]    Script Date: 27/03/2019 18:15:04 ******/SET ANSI_NULLS ONGOSET QUOTED_IDENTIFIER ONGOSET ANSI_PADDING ONGOCREATE TABLE [dbo].[MOVIE_DETAILS](	[id] [int] IDENTITY(1,1) NOT NULL,	[actors] [varchar](255) NULL,	[director] [varchar](255) NULL,	[synopsis] [text] NULL,	[trailer] [varchar](255) NULL,PRIMARY KEY CLUSTERED (	[id] ASC)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]GOSET ANSI_PADDING OFFGO/****** Object:  Table [dbo].[MOVIES]    Script Date: 27/03/2019 18:15:04 ******/SET ANSI_NULLS ONGOSET QUOTED_IDENTIFIER ONGOSET ANSI_PADDING ONGOCREATE TABLE [dbo].[MOVIES](	[id] [int] IDENTITY(1,1) NOT NULL,	[classification] [varchar](255) NULL,	[duration] [int] NOT NULL,	[filename] [varchar](255) NULL,	[releaseDate] [datetime2](7) NULL,	[status] [varchar](255) NULL,	[title] [varchar](255) NULL,	[type] [varchar](255) NULL,	[detail_id] [int] NOT NULL,PRIMARY KEY CLUSTERED (	[id] ASC)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY], CONSTRAINT [UK_ragi6whancb4l1qs8pkqrkq1f] UNIQUE NONCLUSTERED (	[detail_id] ASC)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]) ON [PRIMARY]GOSET ANSI_PADDING OFFGO/****** Object:  Table [dbo].[NEWS]    Script Date: 27/03/2019 18:15:04 ******/SET ANSI_NULLS ONGOSET QUOTED_IDENTIFIER ONGOSET ANSI_PADDING ONGOCREATE TABLE [dbo].[NEWS](	[id] [int] IDENTITY(1,1) NOT NULL,	[publicationDate] [datetime2](7) NULL,	[detail] [text] NULL,	[status] [varchar](255) NULL,	[title] [varchar](255) NULL,PRIMARY KEY CLUSTERED (	[id] ASC)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]GOSET ANSI_PADDING OFFGO/****** Object:  Table [dbo].[ROLES]    Script Date: 27/03/2019 18:15:04 ******/SET ANSI_NULLS ONGOSET QUOTED_IDENTIFIER ONGOSET ANSI_PADDING ONGOCREATE TABLE [dbo].[ROLES](	[name] [varchar](255) NOT NULL,PRIMARY KEY CLUSTERED (	[name] ASC)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]) ON [PRIMARY]GOSET ANSI_PADDING OFFGO/****** Object:  Table [dbo].[SHOWTIMES]    Script Date: 27/03/2019 18:15:04 ******/SET ANSI_NULLS ONGOSET QUOTED_IDENTIFIER ONGOSET ANSI_PADDING ONGOCREATE TABLE [dbo].[SHOWTIMES](	[id] [int] IDENTITY(1,1) NOT NULL,	[date] [datetime2](7) NULL,	[price] [float] NOT NULL,	[room] [varchar](255) NULL,	[time] [varchar](255) NULL,	[movie_id] [int] NULL,PRIMARY KEY CLUSTERED (	[id] ASC)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]) ON [PRIMARY]GOSET ANSI_PADDING OFFGO/****** Object:  Table [dbo].[USERS]    Script Date: 27/03/2019 18:15:04 ******/SET ANSI_NULLS ONGOSET QUOTED_IDENTIFIER ONGOSET ANSI_PADDING ONGOCREATE TABLE [dbo].[USERS](	[username] [varchar](255) NOT NULL,	[email] [varchar](255) NULL,	[password] [varchar](255) NULL,	[phone] [varchar](255) NULL,	[status] [varchar](255) NULL,PRIMARY KEY CLUSTERED (	[username] ASC)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]) ON [PRIMARY]GOSET ANSI_PADDING OFFGO/****** Object:  Table [dbo].[USERS_ROLES]    Script Date: 27/03/2019 18:15:04 ******/SET ANSI_NULLS ONGOSET QUOTED_IDENTIFIER ONGOSET ANSI_PADDING ONGOCREATE TABLE [dbo].[USERS_ROLES](	[username] [varchar](255) NOT NULL,	[rolename] [varchar](255) NOT NULL, CONSTRAINT [UKtmha71m6iunbqcvx1atifmkxl] UNIQUE NONCLUSTERED (	[username] ASC,	[rolename] ASC)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]) ON [PRIMARY]GOSET ANSI_PADDING OFFGOALTER TABLE [dbo].[MOVIES]  WITH CHECK ADD  CONSTRAINT [FKj6vj1rbic4diyi5388490oqdq] FOREIGN KEY([detail_id])REFERENCES [dbo].[MOVIE_DETAILS] ([id])GOALTER TABLE [dbo].[MOVIES] CHECK CONSTRAINT [FKj6vj1rbic4diyi5388490oqdq]GOALTER TABLE [dbo].[SHOWTIMES]  WITH CHECK ADD  CONSTRAINT [FKjgtqe2xus31j1c12wytq2110g] FOREIGN KEY([movie_id])REFERENCES [dbo].[MOVIES] ([id])GOALTER TABLE [dbo].[SHOWTIMES] CHECK CONSTRAINT [FKjgtqe2xus31j1c12wytq2110g]GOALTER TABLE [dbo].[USERS_ROLES]  WITH CHECK ADD  CONSTRAINT [FK138713b6sdp2pjbn1ujksibsn] FOREIGN KEY([username])REFERENCES [dbo].[USERS] ([username])GOALTER TABLE [dbo].[USERS_ROLES] CHECK CONSTRAINT [FK138713b6sdp2pjbn1ujksibsn]GOALTER TABLE [dbo].[USERS_ROLES]  WITH CHECK ADD  CONSTRAINT [FKo47ql066k4pi977m6wnp68d5u] FOREIGN KEY([rolename])REFERENCES [dbo].[ROLES] ([name])GOALTER TABLE [dbo].[USERS_ROLES] CHECK CONSTRAINT [FKo47ql066k4pi977m6wnp68d5u]GOALTER DATABASE [CINEMA_TOMCAT] SET  READ_WRITE GO